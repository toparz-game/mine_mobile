# CLAUDE.md

このファイルは、このリポジトリでコードを扱う際のClaude Code (claude.ai/code) へのガイダンスを提供します。

## プロジェクト概要
バニラJavaScript、HTML5、CSS3で構築されたモバイル最適化マインスイーパーゲームです。スマートフォンのタッチインターフェース向けに特別に設計され、GitHub Pagesでデプロイ可能です。

## アーキテクチャ
- ビルドツールや依存関係なしのバニラJavaScriptを使用した**シングルページアプリケーション**
- **主要ファイル**：
  - `index.html`: ゲームボード、コントロール、モーダルを含むメインHTML構造
  - `game.js`: すべてのゲームロジックを含む単一の`Minesweeper`クラス
  - `style.css`: モバイルデバイス向けに最適化されたレスポンシブスタイル

## 主要なゲームロジック (game.js)
- **Minesweeperクラス**: ボード状態、ユーザー操作、ゲームフローを管理するメインゲームコントローラー
- **ボード表現**: ボード状態（`board`）、開かれたセル（`revealed`）、旗が立てられたセル（`flagged`）の2次元配列
- **タッチ操作**: 旗を立てるための長押し検出（500ms）を含むカスタムタッチイベントリスナー
- **初回クリック保護**: 即座のゲームオーバーを避けるため、最初のクリック後に地雷を配置
- **難易度レベル**: 3つのプリセット設定（初級: 9×9/地雷10個、中級: 16×16/地雷40個、上級: 16×30/地雷99個）

## コマンド
バニラJavaScriptプロジェクトのため、ビルドツールは不要：
- **ローカル実行**: `index.html`を直接ブラウザで開くか、ローカルサーバーを使用（例: `python -m http.server`）
- **デプロイ**: GitHubにプッシュし、リポジトリでGitHub Pagesを有効化

## 開発上の注意点
- 外部依存関係やビルドツールを使用していない
- すべてのコードはトランスパイル不要のバニラJavaScript
- タップ（開く）と長押し（旗を立てる）を区別するためタッチイベントを慎重に処理
- ゲームコントロールとピンチズームの競合を防止
- レスポンシブデザインはCSSグリッドとカスタムプロパティを使用して動的なボードサイズを実現