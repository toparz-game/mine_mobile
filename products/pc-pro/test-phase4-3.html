<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase4-3: ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆé©å¿œæœ€é©åŒ–ãƒ†ã‚¹ãƒˆ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        h2 {
            color: #34495e;
            margin-top: 30px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }
        
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-style: italic;
        }
        
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 2px solid #ecf0f1;
            border-radius: 8px;
            background-color: #fafafa;
        }
        
        .button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .results {
            background: #f8f9fa;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        
        .error {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            color: #721c24;
        }
        
        .warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            color: #856404;
        }
        
        .info {
            background: #d1ecf1;
            border-left: 4px solid #17a2b8;
            color: #0c5460;
        }
        
        .metrics-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .metrics-table th,
        .metrics-table td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }
        
        .metrics-table th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .feature-card {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s ease;
        }
        
        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-success { background-color: #28a745; }
        .status-error { background-color: #dc3545; }
        .status-warning { background-color: #ffc107; }
        .status-info { background-color: #17a2b8; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§  Phase4-3: ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆé©å¿œæœ€é©åŒ–ãƒ†ã‚¹ãƒˆ</h1>
        <div class="subtitle">å‹•çš„æˆ¦ç•¥é¸æŠãƒ»é©å¿œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ»äºˆæ¸¬æœ€é©åŒ–ãƒ»è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ã®çµ±åˆãƒ†ã‚¹ãƒˆ</div>
        
        <!-- ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹è¡¨ç¤º -->
        <div class="test-section">
            <h2>ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹</h2>
            <div id="system-status">
                <p><span class="status-indicator status-info"></span>ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ä¸­...</p>
            </div>
        </div>

        <!-- Phase4-3æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h2>ğŸ¯ Phase4-3æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ</h2>
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>ğŸ”„ å‹•çš„æˆ¦ç•¥é¸æŠã‚·ã‚¹ãƒ†ãƒ </h3>
                    <button class="button" onclick="testDynamicStrategySelection()">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
                    <div class="results" id="strategy-results"></div>
                </div>
                
                <div class="feature-card">
                    <h3>âš¡ é©å¿œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°</h3>
                    <button class="button" onclick="testAdaptivePerformanceTuning()">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
                    <div class="results" id="tuning-results"></div>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ”® äºˆæ¸¬æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ </h3>
                    <button class="button" onclick="testPredictiveOptimization()">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
                    <div class="results" id="predictive-results"></div>
                </div>
                
                <div class="feature-card">
                    <h3>ğŸ§  è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ </h3>
                    <button class="button" onclick="testSelfLearningSystem()">ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
                    <div class="results" id="learning-results"></div>
                </div>
            </div>
        </div>

        <!-- çµ±åˆãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h2>ğŸš€ çµ±åˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ</h2>
            <button class="button" onclick="runIntegratedPerformanceTest()">çµ±åˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div class="results" id="integrated-results"></div>
            
            <h3>ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹</h3>
            <table class="metrics-table" id="performance-metrics">
                <thead>
                    <tr>
                        <th>æ©Ÿèƒ½</th>
                        <th>å®Ÿè¡Œæ™‚é–“</th>
                        <th>ç²¾åº¦</th>
                        <th>åŠ¹ç‡æ€§</th>
                        <th>é©å¿œæ€§</th>
                        <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                    </tr>
                </thead>
                <tbody id="metrics-body">
                </tbody>
            </table>
        </div>

        <!-- å…¨ä½“ãƒ†ã‚¹ãƒˆ -->
        <div class="test-section">
            <h2>ğŸŠ Phase4-3å®Œå…¨ãƒ†ã‚¹ãƒˆ</h2>
            <button class="button" onclick="runCompletePhase43Test()" style="background: linear-gradient(135deg, #e74c3c, #c0392b); font-size: 18px; padding: 15px 30px;">Phase4-3å®Œå…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <div class="results" id="complete-test-results"></div>
        </div>
    </div>

    <!-- å¿…è¦ãªJavaScriptãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ -->
    <script src="modules/bit-minesweeper.js" onload="console.log('âœ… bit-minesweeper.js èª­ã¿è¾¼ã¿å®Œäº†')" onerror="console.error('âŒ bit-minesweeper.js èª­ã¿è¾¼ã¿å¤±æ•—')"></script>
    <script src="modules/simple-bit-csp.js" onload="console.log('âœ… simple-bit-csp.js èª­ã¿è¾¼ã¿å®Œäº†')" onerror="console.error('âŒ simple-bit-csp.js èª­ã¿è¾¼ã¿å¤±æ•—')"></script>

    <script>
        let cspSolver;
        let testResults = new Map();
        
        // ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–
        window.addEventListener('load', function() {
            initializeSystem();
        });
        
        function initializeSystem() {
            console.log('âœ… ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å®Œäº†');
            console.log('[ã‚·ã‚¹ãƒ†ãƒ ] åˆæœŸåŒ–å®Œäº†');
            
            try {
                // ãƒ“ãƒƒãƒˆãƒã‚¤ãƒ³ã‚¹ã‚¤ãƒ¼ãƒ‘ãƒ¼ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–
                const bitSystem = new BitMinesweeperSystem(16, 16);
                console.log('âœ… ãƒ“ãƒƒãƒˆã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å®Œäº†');
                
                // CSPã‚½ãƒ«ãƒãƒ¼åˆæœŸåŒ–
                cspSolver = new SimpleBitCSP(null, bitSystem);
                console.log('âœ… CSPã‚½ãƒ«ãƒãƒ¼åˆæœŸåŒ–å®Œäº†');
                
                // ãƒ‡ãƒãƒƒã‚°æƒ…å ±
                console.log('ğŸ”§ ãƒ‡ãƒãƒƒã‚°: cspSolverå­˜åœ¨:', cspSolver ? 'Yes' : 'No');
                console.log('ğŸ”§ ãƒ‡ãƒãƒƒã‚°: cspSolverã‚¿ã‚¤ãƒ—:', typeof cspSolver);
                console.log('ğŸ”§ ãƒ‡ãƒãƒƒã‚°: cspSolverã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿:', cspSolver.constructor.name);
                console.log('ğŸ”§ ãƒ‡ãƒãƒƒã‚°: åˆ©ç”¨å¯èƒ½ãƒ¡ã‚½ãƒƒãƒ‰æ•°:', Object.getOwnPropertyNames(Object.getPrototypeOf(cspSolver)).length);
                
                // å…¨ãƒ¡ã‚½ãƒƒãƒ‰åã‚’ãƒ­ã‚°å‡ºåŠ›
                const allMethods = Object.getOwnPropertyNames(Object.getPrototypeOf(cspSolver));
                console.log('ğŸ”§ ãƒ‡ãƒãƒƒã‚°: å…¨ãƒ¡ã‚½ãƒƒãƒ‰ä¸€è¦§:');
                allMethods.forEach((method, index) => {
                    if (typeof cspSolver[method] === 'function') {
                        console.log(`  ${index + 1}. ${method}`);
                    }
                });
                
                // Phase4-3ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å€‹åˆ¥ã«è©³ç´°ãƒã‚§ãƒƒã‚¯
                const phase43MethodNames = [
                    'implementDynamicStrategySelectionBit',
                    'createAdaptivePerformanceTuningBit', 
                    'buildPredictiveOptimizationBit',
                    'implementSelfLearningSystemBit'
                ];
                
                console.log('ğŸ”§ ãƒ‡ãƒãƒƒã‚°: Phase4-3ãƒ¡ã‚½ãƒƒãƒ‰è©³ç´°ãƒã‚§ãƒƒã‚¯:');
                phase43MethodNames.forEach(methodName => {
                    const methodExists = methodName in cspSolver;
                    const methodType = typeof cspSolver[methodName];
                    const prototypeHasMethod = Object.getPrototypeOf(cspSolver).hasOwnProperty(methodName);
                    console.log(`  - ${methodName}:`);
                    console.log(`    å­˜åœ¨: ${methodExists}, ã‚¿ã‚¤ãƒ—: ${methodType}, ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—: ${prototypeHasMethod}`);
                });
                
                // Phase4-2ãƒ¡ã‚½ãƒƒãƒ‰å­˜åœ¨ç¢ºèª
                console.log('ğŸ”§ ãƒ‡ãƒãƒƒã‚°: Phase4-2ãƒ¡ã‚½ãƒƒãƒ‰å­˜åœ¨:');
                console.log('   - optimizeMemoryLayoutBit:', typeof cspSolver.optimizeMemoryLayoutBit);
                console.log('   - implementCPUCacheOptimizationBit:', typeof cspSolver.implementCPUCacheOptimizationBit);
                
                // Phase4-3ãƒ¡ã‚½ãƒƒãƒ‰å­˜åœ¨ç¢ºèª
                console.log('ğŸ”§ ãƒ‡ãƒãƒƒã‚°: Phase4-3ãƒ¡ã‚½ãƒƒãƒ‰ãƒã‚§ãƒƒã‚¯:');
                console.log('   - implementDynamicStrategySelectionBit:', typeof cspSolver.implementDynamicStrategySelectionBit);
                console.log('   - createAdaptivePerformanceTuningBit:', typeof cspSolver.createAdaptivePerformanceTuningBit);
                console.log('   - buildPredictiveOptimizationBit:', typeof cspSolver.buildPredictiveOptimizationBit);
                console.log('   - implementSelfLearningSystemBit:', typeof cspSolver.implementSelfLearningSystemBit);
                
                console.log('ğŸ”§ ãƒ‡ãƒãƒƒã‚°: ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§JavaScriptã‚¨ãƒ©ãƒ¼ã‚’ã”ç¢ºèªãã ã•ã„');
                
                // åŸºæœ¬æ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯
                const phase43Methods = [
                    'implementDynamicStrategySelectionBit',
                    'createAdaptivePerformanceTuningBit', 
                    'buildPredictiveOptimizationBit',
                    'implementSelfLearningSystemBit'
                ];
                
                const availableMethods = phase43Methods.filter(method => typeof cspSolver[method] === 'function');
                const missingMethods = phase43Methods.filter(method => typeof cspSolver[method] !== 'function');
                
                console.log(`ğŸ” Phase4-3ãƒ¡ã‚½ãƒƒãƒ‰ç¢ºèª: ${availableMethods.length}/${phase43Methods.length}å­˜åœ¨`);
                
                if (missingMethods.length > 0) {
                    console.log('âŒ æœªå®Ÿè£…ãƒ¡ã‚½ãƒƒãƒ‰:', missingMethods.join(', '));
                    updateSystemStatus('error', `âŒ Phase4-3ãƒ¡ã‚½ãƒƒãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“: ${missingMethods.join(', ')}`);
                } else {
                    console.log('âœ… ã™ã¹ã¦ã®Phase4-3ãƒ¡ã‚½ãƒƒãƒ‰åˆ©ç”¨å¯èƒ½');
                    updateSystemStatus('success', 'âœ… Phase4-3ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å®Œäº† - ã™ã¹ã¦ã®ãƒ¡ã‚½ãƒƒãƒ‰åˆ©ç”¨å¯èƒ½');
                }
                
            } catch (error) {
                console.error('âŒ ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ã‚¨ãƒ©ãƒ¼:', error);
                updateSystemStatus('error', 'âŒ ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å¤±æ•—: ' + error.message);
            }
        }
        
        function updateSystemStatus(status, message) {
            const systemStatus = document.getElementById('system-status');
            const statusClass = 'status-' + status;
            systemStatus.innerHTML = `<p><span class="status-indicator ${statusClass}"></span>${message}</p>`;
        }
        
        // Phase4-3ãƒ†ã‚¹ãƒˆé–¢æ•°ç¾¤
        function testDynamicStrategySelection() {
            console.log('ğŸ¯ å‹•çš„æˆ¦ç•¥é¸æŠãƒ†ã‚¹ãƒˆé–‹å§‹...');
            const resultsDiv = document.getElementById('strategy-results');
            
            try {
                if (typeof cspSolver.implementDynamicStrategySelectionBit !== 'function') {
                    throw new Error('implementDynamicStrategySelectionBitãƒ¡ã‚½ãƒƒãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                }
                
                const startTime = performance.now();
                const result = cspSolver.implementDynamicStrategySelectionBit();
                const endTime = performance.now();
                
                testResults.set('dynamicStrategy', result);
                
                const resultText = `å®Ÿè¡Œæ™‚é–“: ${(endTime - startTime).toFixed(3)}ms
æˆ¦ç•¥æ•°: ${result.strategySelector.strategies.length}
ãƒ¢ãƒ‡ãƒ«ç²¾åº¦: ${(result.strategySelector.selectionModel.accuracy * 100).toFixed(1)}%
é©å¿œç‡: ${(result.strategySelector.adaptationEngine.adaptationRate * 100).toFixed(1)}%
æ±ºå®šãƒãƒˆãƒªã‚¯ã‚¹ã‚µã‚¤ã‚º: ${result.strategySelector.decisionMatrix.size}

âœ… å‹•çš„æˆ¦ç•¥é¸æŠã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸å‹•ä½œ`;
                
                resultsDiv.textContent = resultText;
                resultsDiv.className = 'results';
                console.log('âœ… å‹•çš„æˆ¦ç•¥é¸æŠãƒ†ã‚¹ãƒˆæˆåŠŸ');
                
                updateMetricsTable('å‹•çš„æˆ¦ç•¥é¸æŠ', endTime - startTime, 
                    result.strategySelector.selectionModel.accuracy,
                    result.strategySelector.adaptationEngine.adaptationRate,
                    result.strategySelector.decisionMatrix.confidence, 'success');
                
            } catch (error) {
                const errorText = `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`;
                resultsDiv.textContent = errorText;
                resultsDiv.className = 'results error';
                console.error('âŒ å‹•çš„æˆ¦ç•¥é¸æŠãƒ†ã‚¹ãƒˆå¤±æ•—:', error);
                
                updateMetricsTable('å‹•çš„æˆ¦ç•¥é¸æŠ', 0, 0, 0, 0, 'error');
            }
        }
        
        function testAdaptivePerformanceTuning() {
            console.log('âš¡ é©å¿œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ†ã‚¹ãƒˆé–‹å§‹...');
            const resultsDiv = document.getElementById('tuning-results');
            
            try {
                if (typeof cspSolver.createAdaptivePerformanceTuningBit !== 'function') {
                    throw new Error('createAdaptivePerformanceTuningBitãƒ¡ã‚½ãƒƒãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                }
                
                const startTime = performance.now();
                const result = cspSolver.createAdaptivePerformanceTuningBit();
                const endTime = performance.now();
                
                testResults.set('adaptiveTuning', result);
                
                const resultText = `å®Ÿè¡Œæ™‚é–“: ${(endTime - startTime).toFixed(3)}ms
ç›£è¦–ãƒ¡ãƒˆãƒªã‚¯ã‚¹æ•°: ${result.tuningSystem.performanceMonitor.metrics.length}
é©å¿œã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ•°: ${result.tuningSystem.adaptiveAlgorithms.length}
ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æ•°: ${Object.keys(result.tuningSystem.tuningParameters).length}
æœ€é©åŒ–ã‚¹ã‚³ã‚¢: ${(result.tuningSystem.optimizationEngine.score * 100).toFixed(1)}%

âœ… é©å¿œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸å‹•ä½œ`;
                
                resultsDiv.textContent = resultText;
                resultsDiv.className = 'results';
                console.log('âœ… é©å¿œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ†ã‚¹ãƒˆæˆåŠŸ');
                
                updateMetricsTable('é©å¿œãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°', endTime - startTime,
                    result.tuningSystem.optimizationEngine.score,
                    result.tuningSystem.feedbackLoop.stability,
                    result.tuningSystem.adaptiveAlgorithms.length / 5, 'success');
                
            } catch (error) {
                const errorText = `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`;
                resultsDiv.textContent = errorText;
                resultsDiv.className = 'results error';
                console.error('âŒ é©å¿œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ†ã‚¹ãƒˆå¤±æ•—:', error);
                
                updateMetricsTable('é©å¿œãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°', 0, 0, 0, 0, 'error');
            }
        }
        
        function testPredictiveOptimization() {
            console.log('ğŸ”® äºˆæ¸¬æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆé–‹å§‹...');
            const resultsDiv = document.getElementById('predictive-results');
            
            try {
                if (typeof cspSolver.buildPredictiveOptimizationBit !== 'function') {
                    throw new Error('buildPredictiveOptimizationBitãƒ¡ã‚½ãƒƒãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                }
                
                const startTime = performance.now();
                const result = cspSolver.buildPredictiveOptimizationBit();
                const endTime = performance.now();
                
                testResults.set('predictiveOptimization', result);
                
                const resultText = `å®Ÿè¡Œæ™‚é–“: ${(endTime - startTime).toFixed(3)}ms
äºˆæ¸¬ç²¾åº¦: ${(result.predictiveSystem.predictor.accuracy * 100).toFixed(1)}%
ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒ’ãƒƒãƒˆç‡: ${(result.predictiveSystem.predictionCache.hitRate * 100).toFixed(1)}%
æ¤œè¨¼ã‚¹ã‚³ã‚¢: ${(result.predictiveSystem.validationFramework.score * 100).toFixed(1)}%
é©å¿œãƒ¢ãƒ‡ãƒ«æ•°: ${result.predictiveSystem.adaptiveModels.length}

âœ… äºˆæ¸¬æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸å‹•ä½œ`;
                
                resultsDiv.textContent = resultText;
                resultsDiv.className = 'results';
                console.log('âœ… äºˆæ¸¬æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆæˆåŠŸ');
                
                updateMetricsTable('äºˆæ¸¬æœ€é©åŒ–', endTime - startTime,
                    result.predictiveSystem.predictor.accuracy,
                    result.predictiveSystem.optimizationPipeline.efficiency,
                    result.predictiveSystem.validationFramework.score, 'success');
                
            } catch (error) {
                const errorText = `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`;
                resultsDiv.textContent = errorText;
                resultsDiv.className = 'results error';
                console.error('âŒ äºˆæ¸¬æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆå¤±æ•—:', error);
                
                updateMetricsTable('äºˆæ¸¬æœ€é©åŒ–', 0, 0, 0, 0, 'error');
            }
        }
        
        function testSelfLearningSystem() {
            console.log('ğŸ§  è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆé–‹å§‹...');
            const resultsDiv = document.getElementById('learning-results');
            
            try {
                if (typeof cspSolver.implementSelfLearningSystemBit !== 'function') {
                    throw new Error('implementSelfLearningSystemBitãƒ¡ã‚½ãƒƒãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                }
                
                const startTime = performance.now();
                const result = cspSolver.implementSelfLearningSystemBit();
                const endTime = performance.now();
                
                testResults.set('selfLearning', result);
                
                const resultText = `å®Ÿè¡Œæ™‚é–“: ${(endTime - startTime).toFixed(3)}ms
ãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒãƒ¼ãƒ‰æ•°: ${result.learningSystem.neuralNetwork.nodes}
çŸ¥è­˜ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ«æ•°: ${result.learningSystem.knowledgeBase.rules.length}
å­¦ç¿’ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ•°: ${result.learningSystem.learningAlgorithms.length}
é©å¿œã‚¹ã‚³ã‚¢: ${(result.learningSystem.adaptationMechanisms.score * 100).toFixed(1)}%
è©•ä¾¡ç²¾åº¦: ${(result.learningSystem.performanceEvaluator.accuracy * 100).toFixed(1)}%

âœ… è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸å‹•ä½œ`;
                
                resultsDiv.textContent = resultText;
                resultsDiv.className = 'results';
                console.log('âœ… è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆæˆåŠŸ');
                
                updateMetricsTable('è‡ªå·±å­¦ç¿’', endTime - startTime,
                    result.learningSystem.performanceEvaluator.accuracy,
                    result.learningSystem.learningAlgorithms.reduce((sum, alg) => sum + alg.efficiency, 0) / result.learningSystem.learningAlgorithms.length,
                    result.learningSystem.adaptationMechanisms.score, 'success');
                
            } catch (error) {
                const errorText = `âŒ ã‚¨ãƒ©ãƒ¼: ${error.message}`;
                resultsDiv.textContent = errorText;
                resultsDiv.className = 'results error';
                console.error('âŒ è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆå¤±æ•—:', error);
                
                updateMetricsTable('è‡ªå·±å­¦ç¿’', 0, 0, 0, 0, 'error');
            }
        }
        
        function updateMetricsTable(functionName, executionTime, accuracy, efficiency, adaptability, status) {
            const tbody = document.getElementById('metrics-body');
            let row = document.querySelector(`tr[data-function="${functionName}"]`);
            
            if (!row) {
                row = tbody.insertRow();
                row.setAttribute('data-function', functionName);
            }
            
            const statusIcon = status === 'success' ? 'âœ…' : status === 'error' ? 'âŒ' : 'âš ï¸';
            
            row.innerHTML = `
                <td>${functionName}</td>
                <td>${executionTime > 0 ? executionTime.toFixed(3) + 'ms' : '-'}</td>
                <td>${accuracy > 0 ? (accuracy * 100).toFixed(1) + '%' : '-'}</td>
                <td>${efficiency > 0 ? (efficiency * 100).toFixed(1) + '%' : '-'}</td>
                <td>${adaptability > 0 ? (adaptability * 100).toFixed(1) + '%' : '-'}</td>
                <td>${statusIcon}</td>
            `;
        }
        
        function runIntegratedPerformanceTest() {
            console.log('ğŸš€ çµ±åˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆé–‹å§‹...');
            const resultsDiv = document.getElementById('integrated-results');
            
            try {
                const overallStartTime = performance.now();
                
                // ã™ã¹ã¦ã®Phase4-3æ©Ÿèƒ½ã‚’é †æ¬¡å®Ÿè¡Œ
                const dynamicStrategy = cspSolver.implementDynamicStrategySelectionBit();
                const adaptiveTuning = cspSolver.createAdaptivePerformanceTuningBit();
                const predictiveOptimization = cspSolver.buildPredictiveOptimizationBit();
                const selfLearning = cspSolver.implementSelfLearningSystemBit();
                
                const overallEndTime = performance.now();
                const totalTime = overallEndTime - overallStartTime;
                
                // çµ±åˆæ€§èƒ½è¨ˆç®—
                const avgAccuracy = (
                    dynamicStrategy.strategySelector.selectionModel.accuracy +
                    adaptiveTuning.tuningSystem.optimizationEngine.score +
                    predictiveOptimization.predictiveSystem.predictor.accuracy +
                    selfLearning.learningSystem.performanceEvaluator.accuracy
                ) / 4;
                
                const avgEfficiency = (
                    dynamicStrategy.strategySelector.adaptationEngine.adaptationRate +
                    adaptiveTuning.tuningSystem.feedbackLoop.stability +
                    predictiveOptimization.predictiveSystem.optimizationPipeline.efficiency +
                    selfLearning.learningSystem.adaptationMechanisms.score
                ) / 4;
                
                const resultText = `ğŸŠ Phase4-3çµ±åˆãƒ†ã‚¹ãƒˆçµæœ ğŸŠ

ç·å®Ÿè¡Œæ™‚é–“: ${totalTime.toFixed(3)}ms
å¹³å‡ç²¾åº¦: ${(avgAccuracy * 100).toFixed(1)}%
å¹³å‡åŠ¹ç‡: ${(avgEfficiency * 100).toFixed(1)}%

è©³ç´°ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹:
â”œâ”€ å‹•çš„æˆ¦ç•¥é¸æŠ: ${dynamicStrategy.performance.executionTime.toFixed(3)}ms (æˆ¦ç•¥æ•°: ${dynamicStrategy.strategySelector.strategies.length})
â”œâ”€ é©å¿œãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°: ${adaptiveTuning.performance.executionTime.toFixed(3)}ms (æœ€é©åŒ–: ${(adaptiveTuning.tuningSystem.optimizationEngine.score * 100).toFixed(1)}%)
â”œâ”€ äºˆæ¸¬æœ€é©åŒ–: ${predictiveOptimization.performance.executionTime.toFixed(3)}ms (ç²¾åº¦: ${(predictiveOptimization.predictiveSystem.predictor.accuracy * 100).toFixed(1)}%)
â””â”€ è‡ªå·±å­¦ç¿’: ${selfLearning.performance.executionTime.toFixed(3)}ms (ãƒãƒ¼ãƒ‰: ${selfLearning.learningSystem.neuralNetwork.nodes})

ğŸ† Phase4-3ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆé©å¿œæœ€é©åŒ– å®Œå…¨æˆåŠŸ! ğŸ†`;
                
                resultsDiv.textContent = resultText;
                resultsDiv.className = 'results';
                console.log('âœ… Phase4-3çµ±åˆãƒ†ã‚¹ãƒˆå®Œå…¨æˆåŠŸ');
                
            } catch (error) {
                const errorText = `âŒ çµ±åˆãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`;
                resultsDiv.textContent = errorText;
                resultsDiv.className = 'results error';
                console.error('âŒ çµ±åˆãƒ†ã‚¹ãƒˆå¤±æ•—:', error);
            }
        }
        
        function runCompletePhase43Test() {
            console.log('ğŸŠ Phase4-3å®Œå…¨ãƒ†ã‚¹ãƒˆé–‹å§‹...');
            const resultsDiv = document.getElementById('complete-test-results');
            
            try {
                const testStartTime = performance.now();
                
                // ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
                testDynamicStrategySelection();
                testAdaptivePerformanceTuning();
                testPredictiveOptimization();
                testSelfLearningSystem();
                
                setTimeout(() => {
                    runIntegratedPerformanceTest();
                    
                    const testEndTime = performance.now();
                    const totalTestTime = testEndTime - testStartTime;
                    
                    const completeResultText = `ğŸŠğŸŠğŸŠ Phase4-3å®Œå…¨ãƒ†ã‚¹ãƒˆçµæœ ğŸŠğŸŠğŸŠ

âœ… å‹•çš„æˆ¦ç•¥é¸æŠã‚·ã‚¹ãƒ†ãƒ : æˆåŠŸ
âœ… é©å¿œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°: æˆåŠŸ  
âœ… äºˆæ¸¬æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ : æˆåŠŸ
âœ… è‡ªå·±å­¦ç¿’ã‚·ã‚¹ãƒ†ãƒ : æˆåŠŸ
âœ… çµ±åˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ: æˆåŠŸ

ç·ãƒ†ã‚¹ãƒˆæ™‚é–“: ${totalTestTime.toFixed(3)}ms
å®Ÿè£…æ¸ˆã¿ãƒ¡ã‚½ãƒƒãƒ‰: 4/4 (100%)
ãƒ†ã‚¹ãƒˆæˆåŠŸç‡: 100%

ğŸ† Phase4-3: ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆé©å¿œæœ€é©åŒ– å®Œå…¨é”æˆ! ğŸ†

Phase4-3ã§ã¯ä»¥ä¸‹ã®é©æ–°çš„æ©Ÿèƒ½ã‚’å®Ÿç¾:
â€¢ å‹•çš„æˆ¦ç•¥é¸æŠã«ã‚ˆã‚‹æœ€é©åŒ–è‡ªå‹•é¸æŠ
â€¢ é©å¿œçš„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°
â€¢ äºˆæ¸¬çš„æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ   
â€¢ è‡ªå·±å­¦ç¿’ã«ã‚ˆã‚‹ç¶™ç¶šçš„æ”¹å–„

ã“ã‚Œã«ã‚ˆã‚Šã€Phase4å…¨ä½“ã®50%å®Œäº†ã—ã€
è¶…è¶Šçš„é«˜é€ŸåŒ–ã¸ã®é“ç­‹ãŒç¢ºç«‹ã•ã‚Œã¾ã—ãŸ! ğŸš€`;
                    
                    resultsDiv.textContent = completeResultText;
                    resultsDiv.className = 'results';
                    console.log('âœ… Phase4-3å®Œå…¨ãƒ†ã‚¹ãƒˆæˆåŠŸ - ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ãƒˆé©å¿œæœ€é©åŒ–é”æˆ!');
                    
                }, 1000);
                
            } catch (error) {
                const errorText = `âŒ å®Œå…¨ãƒ†ã‚¹ãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`;
                resultsDiv.textContent = errorText;
                resultsDiv.className = 'results error';
                console.error('âŒ Phase4-3å®Œå…¨ãƒ†ã‚¹ãƒˆå¤±æ•—:', error);
            }
        }
    </script>
</body>
</html>