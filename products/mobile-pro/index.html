<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>„Éû„Ç§„É≥„Çπ„Ç§„Éº„Éë„Éº „É¢„Éê„Ç§„É´„Éó„É≠Áâà</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="flag-animation-container"></div>
    <div class="container">
        <header class="game-header">
            <div class="info-panel">
                <div class="info-item-group">
                    <div class="info-item">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                        <span id="mine-remaining">10</span>
                    </div>
                </div>
                <button id="reset-btn" class="reset-btn">„É™„Çπ„Çø„Éº„Éà</button>
                <div class="info-item">
                    <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span id="timer">000</span>
                </div>
            </div>
        </header>

        <div class="game-board-wrapper">
            <div class="game-board" id="game-board"></div>
        </div>
        
        <div class="controls">
            <button id="flag-mode-btn" class="control-btn">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"></path>
                </svg>
            </button>
            <div class="zoom-controls">
                <button id="zoom-out-btn" class="zoom-btn">Ôºç</button>
                <button id="zoom-in-btn" class="zoom-btn">Ôºã</button>
            </div>
            <button id="settings-btn" class="control-btn">
                <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
            </button>
        </div>

        <button id="help-btn" class="help-btn-floating">
            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
        </button>

        <div class="settings-modal" id="settings-modal">
            <div class="settings-modal-content">
                <div class="settings-header">
                    <h2>Ë®≠ÂÆö</h2>
                    <button id="close-settings" class="close-btn">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="settings-body">
                    <div class="settings-section">
                        <h3>Èõ£ÊòìÂ∫¶</h3>
                        <select id="difficulty-select" class="difficulty-select-modal">
                            <option value="easy" selected>ÂàùÁ¥ö (9√ó9, Âú∞Èõ∑10)</option>
                            <option value="medium">‰∏≠Á¥ö (16√ó16, Âú∞Èõ∑40)</option>
                            <option value="hard">‰∏äÁ¥ö (16√ó30, Âú∞Èõ∑99)</option>
                            <option value="hiddeneasy">Ë£èÂàùÁ¥ö (9√ó9, Âú∞Èõ∑20)</option>
                            <option value="hiddenmedium">Ë£è‰∏≠Á¥ö (16√ó16, Âú∞Èõ∑64)</option>
                            <option value="hiddenhard">Ë£è‰∏äÁ¥ö (16√ó30, Âú∞Èõ∑120)</option>
                            <option value="extreme">Ê•µÊÇ™ (64√ó64, Âú∞Èõ∑999)</option>
                        </select>
                    </div>
                    <div class="settings-section">
                        <h3>ÊñáÂ≠ó„Çµ„Ç§„Ç∫</h3>
                        <div class="settings-controls">
                            <button id="font-size-down-btn" class="settings-btn">Â∞è</button>
                            <span id="font-size-display" class="settings-value">100%</span>
                            <button id="font-size-up-btn" class="settings-btn">Â§ß</button>
                        </div>
                    </div>
                    <div class="settings-section">
                        <h3>„ÉÜ„Éº„Éû</h3>
                        <button id="theme-toggle-btn" class="settings-toggle-btn">
                            <svg class="icon theme-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                            </svg>
                            <span class="theme-text">„É©„Ç§„Éà„É¢„Éº„Éâ</span>
                        </button>
                    </div>
                    <div class="settings-section">
                        <h3>Êóó„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥</h3>
                        <button id="flag-animation-toggle-btn" class="settings-toggle-btn">
                            <svg class="icon flag-animation-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9"></path>
                            </svg>
                            <span class="flag-animation-text">ON</span>
                        </button>
                    </div>
                    <div class="settings-section">
                        <h3>„Ç∞„É©„Éá„Éº„Ç∑„Éß„É≥„ÉªÂΩ±</h3>
                        <button id="power-save-toggle-btn" class="settings-toggle-btn">
                            <svg class="icon power-save-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM7 3H5a2 2 0 00-2 2v12a4 4 0 004 4h2a2 2 0 002-2V5a2 2 0 00-2-2z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 9h2l-3 3h2"></path>
                            </svg>
                            <span class="power-save-text">ON</span>
                        </button>
                        <p style="font-size: 12px; color: var(--text-secondary); margin-top: 10px;">OFF„ÅßÊ∂àË≤ªÈõªÂäõ„ÇíÂâäÊ∏õ</p>
                    </div>
                    <div class="settings-section">
                        <h3>„É™„Éê„Éº„ÇπÊìç‰Ωú</h3>
                        <button id="reverse-toggle-btn" class="settings-toggle-btn">
                            <svg class="icon reverse-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                            </svg>
                            <span class="reverse-text">OFF</span>
                        </button>
                        <p style="font-size: 12px; color: var(--text-secondary); margin-top: 10px;">„Çπ„ÉØ„Ç§„ÉóÊìç‰Ωú„ÇíÂèçËª¢„Åó„Åæ„Åô</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="help-modal" id="help-modal">
            <div class="help-modal-content">
                <div class="help-header">
                    <h2>Êìç‰ΩúË™¨Êòé</h2>
                    <button id="close-help" class="close-btn">
                        <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="help-body">
                    <div class="help-section" id="mobile-help">
                        <h3>üì± „Çπ„Éû„Éº„Éà„Éï„Ç©„É≥„Éª„Çø„Éñ„É¨„ÉÉ„Éà</h3>
                        <div class="help-item">
                            <span class="help-action">„Çø„ÉÉ„Éó</span>
                            <span class="help-description">„Éû„Çπ„ÇíÈñã„Åè</span>
                        </div>
                        <div class="help-item">
                            <span class="help-action">Èï∑Êäº„Åó</span>
                            <span class="help-description">Êóó„ÇíÁ´ã„Å¶„Çã/Â§ñ„Åô</span>
                        </div>
                        <div class="help-item">
                            <span class="help-action">„Éï„É©„Ç∞„Éú„Çø„É≥</span>
                            <span class="help-description">Êóó„É¢„Éº„Éâ„ÅÆÂàá„ÇäÊõø„ÅàÔºàON„ÅÆÊôÇ„ÅØ„Çø„ÉÉ„Éó„ÅßÊóóÔºâ</span>
                        </div>
                        <div class="help-item">
                            <span class="help-action">Ôºã/Ôºç„Éú„Çø„É≥</span>
                            <span class="help-description">Êã°Â§ß„ÉªÁ∏ÆÂ∞è</span>
                        </div>
                        <div class="help-item">
                            <span class="help-action">„Çπ„ÉØ„Ç§„Éó</span>
                            <span class="help-description">„Éú„Éº„Éâ„ÇíÁßªÂãïÔºàÊã°Â§ßÊôÇÔºâ</span>
                        </div>
                    </div>
                    <div class="help-section" id="pc-help">
                        <h3>üíª „Éë„ÇΩ„Ç≥„É≥</h3>
                        <div class="help-item">
                            <span class="help-action">Â∑¶„ÇØ„É™„ÉÉ„ÇØ</span>
                            <span class="help-description">„Éû„Çπ„ÇíÈñã„Åè</span>
                        </div>
                        <div class="help-item">
                            <span class="help-action">Âè≥„ÇØ„É™„ÉÉ„ÇØ</span>
                            <span class="help-description">Êóó„ÇíÁ´ã„Å¶„Çã/Â§ñ„Åô</span>
                        </div>
                        <div class="help-item">
                            <span class="help-action">„Éï„É©„Ç∞„Éú„Çø„É≥</span>
                            <span class="help-description">Êóó„É¢„Éº„Éâ„ÅÆÂàá„ÇäÊõø„ÅàÔºàON„ÅÆÊôÇ„ÅØÂ∑¶„ÇØ„É™„ÉÉ„ÇØ„ÅßÊóóÔºâ</span>
                        </div>
                        <div class="help-item">
                            <span class="help-action">Ôºã/Ôºç„Éú„Çø„É≥</span>
                            <span class="help-description">Êã°Â§ß„ÉªÁ∏ÆÂ∞è</span>
                        </div>
                        <div class="help-item">
                            <span class="help-action">‰∏≠„Éú„Çø„É≥„Åß„Éâ„É©„ÉÉ„Ç∞</span>
                            <span class="help-description">„Éú„Éº„Éâ„ÇíÁßªÂãïÔºàÊã°Â§ßÊôÇÔºâ</span>
                        </div>
                    </div>
                    <div class="help-section">
                        <h3>üéÆ „Ç≤„Éº„É†„É´„Éº„É´</h3>
                        <p>Âú∞Èõ∑„ÇíÈÅø„Åë„Å™„Åå„Çâ„Åô„Åπ„Å¶„ÅÆÂÆâÂÖ®„Å™„Éû„Çπ„ÇíÈñã„Åè„Ç≤„Éº„É†„Åß„Åô„ÄÇÊï∞Â≠ó„ÅØÂë®Âõ≤8„Éû„Çπ„ÅÆÂú∞Èõ∑Êï∞„ÇíÁ§∫„Åó„Åæ„Åô„ÄÇ</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- „Ç≤„Éº„É†„ÇØ„É™„Ç¢„É¢„Éº„ÉÄ„É´ -->
    <div id="clear-modal" class="modal">
        <div class="modal-content clear-modal-content">
            <div class="clear-modal-header">
                <svg class="icon clear-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                </svg>
                <h2>„ÇØ„É™„Ç¢ÔºÅ</h2>
            </div>
            <p id="clear-message" class="clear-message"></p>
            <div class="clear-modal-buttons">
                <button id="next-difficulty-btn" class="clear-btn next-btn">Ê¨°„ÅÆÈõ£ÊòìÂ∫¶„Å∏</button>
                <button id="replay-difficulty-btn" class="clear-btn replay-btn">„ÇÇ„ÅÜ‰∏ÄÂ∫¶„Éó„É¨„Ç§</button>
            </div>
        </div>
    </div>
    
    <script src="../../core/minesweeper-core.js"></script>
    <script src="game.js"></script>
</body>
</html>